// Generated by LiveScript 1.2.0
var steps, slice, canvasSize, sphereSize, paddingSize, strokeSize, strokeSteps, linesPosition, res$, i$, i, animationCount, animationSpeed, setup, draw, mousePressed;
steps = 32;
slice = Math.PI / steps;
canvasSize = 500;
sphereSize = 420;
paddingSize = (canvasSize - sphereSize) / 2;
strokeSize = [0];
strokeSteps = 1 / (steps / 2);
res$ = [];
for (i$ = 0; i$ <= steps; ++i$) {
  i = i$;
  res$.push(0);
}
linesPosition = res$;
animationCount = 0;
animationSpeed = 0.025;
for (i$ = 1; i$ <= steps; ++i$) {
  i = i$;
  if (i <= steps / 2) {
    strokeSize[i] = strokeSize[i - 1] + strokeSteps;
  } else {
    strokeSize[i] = strokeSize[i - 1] - strokeSteps;
  }
}
setup = function(){
  createCanvas(canvasSize, canvasSize);
  colorMode(HSB, 256);
  bezierDetail(128);
  noFill();
};
draw = function(){
  var i$, to$, i, sin1, sin2, range1, range2, range3, range4, range5, animationFrom, animationTo, range6;
  clear();
  background(0, 0, 250);
  for (i$ = 0, to$ = steps; i$ <= to$; ++i$) {
    i = i$;
    sin1 = (sin(i * slice - HALF_PI) + 1) * 0.5;
    sin2 = (sin((i + frameCount) * 0.01) + 1) * 0.5;
    range1 = lerp((sphereSize / TWO_PI) * -1, sphereSize / TWO_PI, sin1);
    range2 = lerp(0, sphereSize, sin1);
    range3 = lerp(0, 2, strokeSize[i]);
    range4 = lerp(0, 256, strokeSize[i]);
    range5 = lerp(0, 256, sin2);
    animationFrom = 0;
    animationTo = linesPosition[i] - linesPosition[i + 1];
    range6 = lerp(animationFrom, animationTo, animationCount);
    strokeWeight(range3);
    stroke(range5, 256, 256, range4);
    bezier(sphereSize / 2 + paddingSize, 0 + paddingSize, range1 + range2 + paddingSize + range6, 0 + paddingSize, range1 + range2 + paddingSize + range6, sphereSize + paddingSize, sphereSize / 2 + paddingSize, sphereSize + paddingSize);
    bezier(0 + paddingSize, sphereSize / 2 + paddingSize, 0 + paddingSize, range1 + range2 + paddingSize + range6, sphereSize + paddingSize, range1 + range2 + paddingSize + range6, sphereSize + paddingSize, sphereSize / 2 + paddingSize);
    if (frameCount === 1) {
      linesPosition[i] = range1 + range2;
    }
  }
  animationCount += animationSpeed;
  if (animationCount > 1) {
    animationCount = 0;
  }
};
mousePressed = function(){
  noLoop();
};